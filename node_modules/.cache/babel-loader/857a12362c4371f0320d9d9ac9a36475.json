{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import axios from'axios';import'./Weather.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Weather=/*#__PURE__*/function(_React$Component){_inherits(Weather,_React$Component);var _super=_createSuper(Weather);function Weather(props){var _this;_classCallCheck(this,Weather);_this=_super.call(this,props);_this.state={city:props.city!=null?props.city:null,state:null,image:null,temperature:null,feelsLike:null,wind:null,humidity:null};_this.updateState=_this.updateState.bind(_assertThisInitialized(_this));_this.getWeather=_this.getWeather.bind(_assertThisInitialized(_this));return _this;}_createClass(Weather,[{key:\"getWeather\",value:function(){var _getWeather=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var API_key,url,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:API_key=\"1195410e4ae2d05ce024d37aa18407de\";url=\"http://api.openweathermap.org/data/2.5/weather?q=\"+this.state.city+\"&appid=\"+API_key;//console.log(url);\n_context2.next=4;return axios.get(url).catch(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(error){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(error.toJSON());return _context.abrupt(\"return\",null);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());case 4:response=_context2.sent;return _context2.abrupt(\"return\",response);case 6:case\"end\":return _context2.stop();}}},_callee2,this);}));function getWeather(){return _getWeather.apply(this,arguments);}return getWeather;}()},{key:\"updateState\",value:function(){var _updateState=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var weather;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(this.state.city===\"\")){_context3.next=3;break;}alert(\"Enter city\");return _context3.abrupt(\"return\");case 3:_context3.next=5;return this.getWeather();case 5:weather=_context3.sent;if(!(weather===null)){_context3.next=9;break;}alert(\"Something went wrong!\");return _context3.abrupt(\"return\");case 9:console.log(weather);this.setState(function(){return{image:\"https://api.openweathermap.org/img/w/\"+weather.data.weather[0].icon+\".png\",state:weather.data.weather[0].description,temperature:Math.round(weather.data.main.temp-273.15),feelsLike:Math.round(weather.data.main.temp-273.15),wind:Math.round(weather.data.wind.speed),humidity:weather.data.main.humidity};});case 11:case\"end\":return _context3.stop();}}},_callee3,this);}));function updateState(){return _updateState.apply(this,arguments);}return updateState;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{classNameName:\"App\",children:/*#__PURE__*/_jsx(\"section\",{className:\"contentPanel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gridContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weatherForm\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Enter \",/*#__PURE__*/_jsx(\"span\",{children:\"city\"}),\" for the weather forecast\"]}),/*#__PURE__*/_jsxs(\"div\",{id:\"WeatherContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"formControl\",children:/*#__PURE__*/_jsx(\"input\",{id:\"chosenCity\",type:\"text\",onChange:function onChange(e){return _this2.setState({city:e.target.value});},value:this.state.city})}),/*#__PURE__*/_jsx(\"input\",{id:\"submitBtn\",className:\"forecastBtn\",onClick:this.updateState,type:\"button\",defaultValue:\"See forecast\"})]})]}),this.state.state!=null&&/*#__PURE__*/_jsx(\"div\",{className:\"forecastResult\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:this.state.city}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"li\",{children:this.state.state}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:this.state.image,alt:\"\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Temperature: \",this.state.temperature,\"  \\xB0C\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Feels like: \",this.state.feelsLike,\" \\xB0C\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Wind: \",this.state.wind,\" m/s\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Humidity: \",this.state.humidity,\"%\"]})]})})]})})});}}]);return Weather;}(React.Component);export default Weather;","map":{"version":3,"names":["React","axios","Weather","props","state","city","image","temperature","feelsLike","wind","humidity","updateState","bind","getWeather","API_key","url","get","catch","error","console","log","toJSON","response","alert","weather","setState","data","icon","description","Math","round","main","temp","speed","e","target","value","Component"],"sources":["C:/Users/NotRich22/Desktop/АКАДЕМИЯ/JS Frameworks/Экзамен/WeatherOnReact/src/App.jsx"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './Weather.css';\nclass Weather extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            city: props.city!=null?props.city:null,\n            state: null,\n            image: null,\n            temperature: null,\n            feelsLike: null,\n            wind: null,\n            humidity: null\n        }\n        this.updateState = this.updateState.bind(this);\n        this.getWeather = this.getWeather.bind(this);\n    }\n    async getWeather(){\n        const API_key = \"1195410e4ae2d05ce024d37aa18407de\";\n        const url = \"http://api.openweathermap.org/data/2.5/weather?q=\"+this.state.city+\"&appid=\"+API_key;\n        //console.log(url);\n        const response = await axios.get(url).catch(async(error) =>{\n                console.log(error.toJSON());\n                return null;})\n        return response;\n    };\n    async updateState(){\n        //console.log(\"UpdateState!\");\n        if(this.state.city === \"\"){\n            alert(\"Enter city\");\n            return;\n        }\n        let weather = await this.getWeather();\n    \n        if(weather === null){\n            alert(\"Something went wrong!\");\n            return;\n        }\n        console.log(weather);\n        this.setState(() => {\n            return{\n                image: \"https://api.openweathermap.org/img/w/\" + weather.data.weather[0].icon + \".png\",\n                state:  weather.data.weather[0].description,\n                temperature: Math.round(weather.data.main.temp - 273.15),\n                feelsLike: Math.round(weather.data.main.temp - 273.15),\n                wind: Math.round(weather.data.wind.speed),\n                humidity: weather.data.main.humidity\n            }\n        });\n    }\n    render(){\n        return <div classNameName=\"App\">\n        <section className=\"contentPanel\">\n            <div className=\"gridContainer\">\n                <div className=\"weatherForm\">\n                    <h2>Enter <span>city</span> for the weather forecast</h2>\n                    <div id=\"WeatherContainer\">\n                        <div className=\"formControl\">\n                            <input id =\"chosenCity\" type=\"text\" onChange={(e)=>this.setState({city: e.target.value})} value={this.state.city}/>\n                        </div>\n                        <input id =\"submitBtn\" className=\"forecastBtn\" onClick={this.updateState} type=\"button\" defaultValue=\"See forecast\"/>\n                    </div>\n                </div>\n                {this.state.state != null&&\n                    <div className=\"forecastResult\">\n                        <ul>\n                            <li>{this.state.city}</li>\n                            <hr/>\n                            <li>{this.state.state}</li>\n                            <li><img src= {this.state.image} alt=\"\"/></li>\n                            <li>Temperature: {this.state.temperature}  °C</li>\n                            <li>Feels like: {this.state.feelsLike} °C</li>\n                            <li>Wind: {this.state.wind} m/s</li>\n                            <li>Humidity: {this.state.humidity}%</li>\n                        </ul>\n                    </div>\n                }\n            </div>\n        </section>\n        </div>\n        }\n    }\nexport default Weather;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}