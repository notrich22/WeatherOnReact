{"ast":null,"code":"import axios from 'axios';\nasync function getWeather(city) {\n  const API_key = \"1195410e4ae2d05ce024d37aa18407de\";\n  const url = \"http://api.openweathermap.org/data/2.5/weather?q=\" + city + \"&appid=\" + API_key;\n  console.log(url);\n  const response = await axios.get(url).catch(async error => {\n    console.log(error.toJSON());\n    return undefined;\n  });\n  return response;\n}\nexport async function WeatherBtnPressed() {\n  let city = document.getElementById(\"city\");\n  if (document.getElementById(\"chosenCity\").value == \"\") {\n    alert(\"Enter city\");\n    return;\n  }\n  let state = document.getElementById(\"state\");\n  let temperature = document.getElementById(\"temperature\");\n  let feelsLike = document.getElementById(\"feelsLike\");\n  let wind = document.getElementById(\"wind\");\n  let humidity = document.getElementById(\"humidity\");\n  let image = document.getElementById(\"image\");\n  let weather = await getWeather(document.getElementById(\"chosenCity\").value);\n  if (weather == undefined) {\n    alert(\"Возникла ошибка!\");\n    return;\n  }\n  console.log(weather);\n  image.src = \"https://api.openweathermap.org/img/w/\" + weather.data.weather[0].icon + \".png\";\n  city.innerText = document.getElementById(\"chosenCity\").value;\n  state.innerText = weather.data.weather[0].description;\n  temperature.innerHTML = \"Temperature: \" + Math.round(weather.data.main.temp - 273.15) + \"°C\";\n  feelsLike.innerText = \"Feels like: \" + Math.round(weather.data.main.temp - 273.15) + \"°C\";\n  wind.innerText = \"Wind: \" + Math.round(weather.data.wind.speed) + \" м/с\";\n  humidity.innerText = \"Humidity: \" + weather.data.main.humidity + \" %\";\n}\n_c = WeatherBtnPressed;\nwindow.addEventListener(\"load\", WeatherBtnPressed);\nexport default WeatherBtnPressed;\nvar _c;\n$RefreshReg$(_c, \"WeatherBtnPressed\");","map":{"version":3,"names":["axios","getWeather","city","API_key","url","console","log","response","get","catch","error","toJSON","undefined","WeatherBtnPressed","document","getElementById","value","alert","state","temperature","feelsLike","wind","humidity","image","weather","src","data","icon","innerText","description","innerHTML","Math","round","main","temp","speed","window","addEventListener"],"sources":["C:/Users/NotRich22/Desktop/АКАДЕМИЯ/JS Frameworks/Экзамен/WeatherOnReact/src/weatherHandler.js"],"sourcesContent":["import axios from 'axios';\r\nasync function getWeather(city) {\r\n    const API_key = \"1195410e4ae2d05ce024d37aa18407de\";\r\n    const url = \"http://api.openweathermap.org/data/2.5/weather?q=\"+city+\"&appid=\"+API_key;\r\n    console.log(url);\r\n    const response = await axios.get(url).catch(async(error) =>{\r\n        console.log(error.toJSON());\r\n        return undefined;\r\n    })\r\n    return response;\r\n}\r\nexport async function  WeatherBtnPressed(){\r\n    let city = document.getElementById(\"city\");\r\n    if(document.getElementById(\"chosenCity\").value == \"\"){\r\n        alert(\"Enter city\");\r\n        return;\r\n    }\r\n    let state = document.getElementById(\"state\");\r\n    let temperature = document.getElementById(\"temperature\");\r\n    let feelsLike = document.getElementById(\"feelsLike\");\r\n    let wind = document.getElementById(\"wind\");\r\n    let humidity = document.getElementById(\"humidity\");\r\n    let image = document.getElementById(\"image\");\r\n    \r\n    let weather = await getWeather(document.getElementById(\"chosenCity\").value);\r\n\r\n    if(weather == undefined){\r\n        alert(\"Возникла ошибка!\");\r\n        return;\r\n    }\r\n    console.log(weather);\r\n    image.src = \"https://api.openweathermap.org/img/w/\" + weather.data.weather[0].icon + \".png\";\r\n    city.innerText = document.getElementById(\"chosenCity\").value;\r\n    state.innerText = weather.data.weather[0].description;\r\n    temperature.innerHTML = \"Temperature: \" + Math.round(weather.data.main.temp - 273.15) + \"°C\";\r\n    feelsLike.innerText = \"Feels like: \" + Math.round(weather.data.main.temp - 273.15) + \"°C\";\r\n    wind.innerText = \"Wind: \" + Math.round(weather.data.wind.speed) + \" м/с\";\r\n    humidity.innerText = \"Humidity: \" + weather.data.main.humidity + \" %\";\r\n\r\n}\r\nwindow.addEventListener(\"load\", WeatherBtnPressed);\r\nexport default WeatherBtnPressed;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,eAAeC,UAAU,CAACC,IAAI,EAAE;EAC5B,MAAMC,OAAO,GAAG,kCAAkC;EAClD,MAAMC,GAAG,GAAG,mDAAmD,GAACF,IAAI,GAAC,SAAS,GAACC,OAAO;EACtFE,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EAChB,MAAMG,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAACJ,GAAG,CAAC,CAACK,KAAK,CAAC,MAAMC,KAAK,IAAI;IACvDL,OAAO,CAACC,GAAG,CAACI,KAAK,CAACC,MAAM,EAAE,CAAC;IAC3B,OAAOC,SAAS;EACpB,CAAC,CAAC;EACF,OAAOL,QAAQ;AACnB;AACA,OAAO,eAAgBM,iBAAiB,GAAE;EACtC,IAAIX,IAAI,GAAGY,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;EAC1C,IAAGD,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,IAAI,EAAE,EAAC;IACjDC,KAAK,CAAC,YAAY,CAAC;IACnB;EACJ;EACA,IAAIC,KAAK,GAAGJ,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC;EAC5C,IAAII,WAAW,GAAGL,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC;EACxD,IAAIK,SAAS,GAAGN,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC;EACpD,IAAIM,IAAI,GAAGP,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;EAC1C,IAAIO,QAAQ,GAAGR,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC;EAClD,IAAIQ,KAAK,GAAGT,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC;EAE5C,IAAIS,OAAO,GAAG,MAAMvB,UAAU,CAACa,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CAAC;EAE3E,IAAGQ,OAAO,IAAIZ,SAAS,EAAC;IACpBK,KAAK,CAAC,kBAAkB,CAAC;IACzB;EACJ;EACAZ,OAAO,CAACC,GAAG,CAACkB,OAAO,CAAC;EACpBD,KAAK,CAACE,GAAG,GAAG,uCAAuC,GAAGD,OAAO,CAACE,IAAI,CAACF,OAAO,CAAC,CAAC,CAAC,CAACG,IAAI,GAAG,MAAM;EAC3FzB,IAAI,CAAC0B,SAAS,GAAGd,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK;EAC5DE,KAAK,CAACU,SAAS,GAAGJ,OAAO,CAACE,IAAI,CAACF,OAAO,CAAC,CAAC,CAAC,CAACK,WAAW;EACrDV,WAAW,CAACW,SAAS,GAAG,eAAe,GAAGC,IAAI,CAACC,KAAK,CAACR,OAAO,CAACE,IAAI,CAACO,IAAI,CAACC,IAAI,GAAG,MAAM,CAAC,GAAG,IAAI;EAC5Fd,SAAS,CAACQ,SAAS,GAAG,cAAc,GAAGG,IAAI,CAACC,KAAK,CAACR,OAAO,CAACE,IAAI,CAACO,IAAI,CAACC,IAAI,GAAG,MAAM,CAAC,GAAG,IAAI;EACzFb,IAAI,CAACO,SAAS,GAAG,QAAQ,GAAGG,IAAI,CAACC,KAAK,CAACR,OAAO,CAACE,IAAI,CAACL,IAAI,CAACc,KAAK,CAAC,GAAG,MAAM;EACxEb,QAAQ,CAACM,SAAS,GAAG,YAAY,GAAGJ,OAAO,CAACE,IAAI,CAACO,IAAI,CAACX,QAAQ,GAAG,IAAI;AAEzE;AAAC,KA5BsBT,iBAAiB;AA6BxCuB,MAAM,CAACC,gBAAgB,CAAC,MAAM,EAAExB,iBAAiB,CAAC;AAClD,eAAeA,iBAAiB;AAAC;AAAA"},"metadata":{},"sourceType":"module"}