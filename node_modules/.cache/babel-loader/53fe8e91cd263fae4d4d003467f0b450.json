{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/NotRich22/Desktop/\\u0410\\u041A\\u0410\\u0414\\u0415\\u041C\\u0418\\u042F/JS Frameworks/\\u042D\\u043A\\u0437\\u0430\\u043C\\u0435\\u043D/WeatherOnReact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';function getWeather(_x){return _getWeather.apply(this,arguments);}function _getWeather(){_getWeather=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(city){var API_key,url,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:API_key=\"1195410e4ae2d05ce024d37aa18407de\";url=\"http://api.openweathermap.org/data/2.5/weather?q=\"+city+\"&appid=\"+API_key;console.log(url);_context2.next=5;return axios.get(url).catch(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(error){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(error.toJSON());return _context.abrupt(\"return\",undefined);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref.apply(this,arguments);};}());case 5:response=_context2.sent;return _context2.abrupt(\"return\",response);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _getWeather.apply(this,arguments);}export function WeatherBtnPressed(){return _WeatherBtnPressed.apply(this,arguments);}function _WeatherBtnPressed(){_WeatherBtnPressed=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var city,state,temperature,feelsLike,wind,humidity,image,weather;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:city=document.getElementById(\"city\");if(!(document.getElementById(\"chosenCity\").value===\"\")){_context3.next=4;break;}alert(\"Enter city\");return _context3.abrupt(\"return\");case 4:state=document.getElementById(\"state\");temperature=document.getElementById(\"temperature\");feelsLike=document.getElementById(\"feelsLike\");wind=document.getElementById(\"wind\");humidity=document.getElementById(\"humidity\");image=document.getElementById(\"image\");_context3.next=12;return getWeather(document.getElementById(\"chosenCity\").value);case 12:weather=_context3.sent;if(!(weather===undefined)){_context3.next=16;break;}alert(\"Something went wrong!\");return _context3.abrupt(\"return\");case 16:console.log(weather);image.src=\"https://api.openweathermap.org/img/w/\"+weather.data.weather[0].icon+\".png\";city.innerText=document.getElementById(\"chosenCity\").value;state.innerText=weather.data.weather[0].description;temperature.innerHTML=\"Temperature: \"+Math.round(weather.data.main.temp-273.15)+\"°C\";feelsLike.innerText=\"Feels like: \"+Math.round(weather.data.main.temp-273.15)+\"°C\";wind.innerText=\"Wind: \"+Math.round(weather.data.wind.speed)+\" м/с\";humidity.innerText=\"Humidity: \"+weather.data.main.humidity+\" %\";case 24:case\"end\":return _context3.stop();}}},_callee3);}));return _WeatherBtnPressed.apply(this,arguments);}window.addEventListener(\"load\",WeatherBtnPressed);export default WeatherBtnPressed;","map":{"version":3,"names":["axios","getWeather","city","API_key","url","console","log","get","catch","error","toJSON","undefined","response","WeatherBtnPressed","document","getElementById","value","alert","state","temperature","feelsLike","wind","humidity","image","weather","src","data","icon","innerText","description","innerHTML","Math","round","main","temp","speed","window","addEventListener"],"sources":["C:/Users/NotRich22/Desktop/АКАДЕМИЯ/JS Frameworks/Экзамен/WeatherOnReact/src/weatherHandler.js"],"sourcesContent":["import axios from 'axios';\r\nasync function getWeather(city) {\r\n    const API_key = \"1195410e4ae2d05ce024d37aa18407de\";\r\n    const url = \"http://api.openweathermap.org/data/2.5/weather?q=\"+city+\"&appid=\"+API_key;\r\n    console.log(url);\r\n    const response = await axios.get(url).catch(async(error) =>{\r\n        console.log(error.toJSON());\r\n        return undefined;\r\n    })\r\n    return response;\r\n}\r\nexport async function  WeatherBtnPressed(){\r\n    let city = document.getElementById(\"city\");\r\n    if(document.getElementById(\"chosenCity\").value === \"\"){\r\n        alert(\"Enter city\");\r\n        return;\r\n    }\r\n    let state = document.getElementById(\"state\");\r\n    let temperature = document.getElementById(\"temperature\");\r\n    let feelsLike = document.getElementById(\"feelsLike\");\r\n    let wind = document.getElementById(\"wind\");\r\n    let humidity = document.getElementById(\"humidity\");\r\n    let image = document.getElementById(\"image\");\r\n    \r\n    let weather = await getWeather(document.getElementById(\"chosenCity\").value);\r\n\r\n    if(weather === undefined){\r\n        alert(\"Something went wrong!\");\r\n        return;\r\n    }\r\n    console.log(weather);\r\n    image.src = \"https://api.openweathermap.org/img/w/\" + weather.data.weather[0].icon + \".png\";\r\n    city.innerText = document.getElementById(\"chosenCity\").value;\r\n    state.innerText = weather.data.weather[0].description;\r\n    temperature.innerHTML = \"Temperature: \" + Math.round(weather.data.main.temp - 273.15) + \"°C\";\r\n    feelsLike.innerText = \"Feels like: \" + Math.round(weather.data.main.temp - 273.15) + \"°C\";\r\n    wind.innerText = \"Wind: \" + Math.round(weather.data.wind.speed) + \" м/с\";\r\n    humidity.innerText = \"Humidity: \" + weather.data.main.humidity + \" %\";\r\n\r\n}\r\nwindow.addEventListener(\"load\", WeatherBtnPressed);\r\nexport default WeatherBtnPressed;"],"mappings":"keAAA,MAAOA,MAAK,KAAM,OAAO,CAAC,QACXC,WAAU,4IAAzB,kBAA0BC,IAAI,iJACpBC,OAAO,CAAG,kCAAkC,CAC5CC,GAAG,CAAG,mDAAmD,CAACF,IAAI,CAAC,SAAS,CAACC,OAAO,CACtFE,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,uBACMJ,MAAK,CAACO,GAAG,CAACH,GAAG,CAAC,CAACI,KAAK,4FAAC,iBAAMC,KAAK,oHACnDJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAACC,MAAM,EAAE,CAAC,CAAC,gCACrBC,SAAS,wDACnB,gEAAC,QAHIC,QAAQ,iDAIPA,QAAQ,0DAClB,6CACD,eAAuBC,kBAAiB,oDA4BvC,2GA5BM,2MACCX,IAAI,CAAGY,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,MACvCD,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,GAAK,EAAE,2BACjDC,KAAK,CAAC,YAAY,CAAC,CAAC,yCAGpBC,KAAK,CAAGJ,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CACxCI,WAAW,CAAGL,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CACpDK,SAAS,CAAGN,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAChDM,IAAI,CAAGP,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CACtCO,QAAQ,CAAGR,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAC9CQ,KAAK,CAAGT,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,yBAExBd,WAAU,CAACa,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CAAC,SAAvEQ,OAAO,qBAERA,OAAO,GAAKb,SAAS,4BACpBM,KAAK,CAAC,uBAAuB,CAAC,CAAC,0CAGnCZ,OAAO,CAACC,GAAG,CAACkB,OAAO,CAAC,CACpBD,KAAK,CAACE,GAAG,CAAG,uCAAuC,CAAGD,OAAO,CAACE,IAAI,CAACF,OAAO,CAAC,CAAC,CAAC,CAACG,IAAI,CAAG,MAAM,CAC3FzB,IAAI,CAAC0B,SAAS,CAAGd,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,CAC5DE,KAAK,CAACU,SAAS,CAAGJ,OAAO,CAACE,IAAI,CAACF,OAAO,CAAC,CAAC,CAAC,CAACK,WAAW,CACrDV,WAAW,CAACW,SAAS,CAAG,eAAe,CAAGC,IAAI,CAACC,KAAK,CAACR,OAAO,CAACE,IAAI,CAACO,IAAI,CAACC,IAAI,CAAG,MAAM,CAAC,CAAG,IAAI,CAC5Fd,SAAS,CAACQ,SAAS,CAAG,cAAc,CAAGG,IAAI,CAACC,KAAK,CAACR,OAAO,CAACE,IAAI,CAACO,IAAI,CAACC,IAAI,CAAG,MAAM,CAAC,CAAG,IAAI,CACzFb,IAAI,CAACO,SAAS,CAAG,QAAQ,CAAGG,IAAI,CAACC,KAAK,CAACR,OAAO,CAACE,IAAI,CAACL,IAAI,CAACc,KAAK,CAAC,CAAG,MAAM,CACxEb,QAAQ,CAACM,SAAS,CAAG,YAAY,CAAGJ,OAAO,CAACE,IAAI,CAACO,IAAI,CAACX,QAAQ,CAAG,IAAI,CAAC,yDAEzE,oDACDc,MAAM,CAACC,gBAAgB,CAAC,MAAM,CAAExB,iBAAiB,CAAC,CAClD,cAAeA,kBAAiB"},"metadata":{},"sourceType":"module"}